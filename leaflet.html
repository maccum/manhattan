<html>

<head>
  <title>Test Leaflet Map</title>
  <!--<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css">
    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>-->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
    crossorigin="" />
  <!-- Make sure you put this AFTER Leaflet's CSS -->
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
    crossorigin=""></script>
  <style>
    #map {
      height: 100%;
      width: 100%;
    }
  </style>
</head>

<body>
  <div id="map"></div>
  <script>
    var map = L.map('map', {
      crs: L.CRS.Simple
    });

    var corner1 = L.latLng(0, 0);
    var corner2 = L.latLng(-256,256);
    var bounds = L.latLngBounds(corner1, corner2)

    L.tileLayer('file:///Users/maccum/manhattan/gnuplots/{z}/{x}/{y}.png', {
      maxNativeZoom: 1, maxZoom: 5, minZoom:0, crs: L.CRS.Simple, bounds: bounds,
    }).addTo(map);

    var circle = L.circle([-128, 128], {radius: .1, color: '#9b0085', fillOpacity: 1.0}).addTo(map)
    var circle = L.circle([0, 0], {radius: .1, color: 'black', fillOpacity: 1.0}).addTo(map)
    var circle = L.circle([-256, 256], {radius: .1, color: 'blue', fillOpacity: 1.0}).addTo(map)

    //var circle = L.circle([-(256-((1.2616800515679323/6)*256)), ((756986/(2*Math.pow(10,8)))*256)], {radius: .0001, color: 'black', fillOpacity: 1.0}).addTo(map)

    function getCoordinates(pvalue, position) {
        return [
            -(256 - ((pvalue/6)*256)),
            ((position/(2*Math.pow(10,8)))*256)
        ]
    }

    var circle = L.circle(getCoordinates(3.19014811870111, 12593395), 
    {radius: .0001, color: 'black', fillOpacity: 1.0}).addTo(map)


    map.fitBounds(bounds);
    console.log('map center: '+map.getCenter());
  </script>
</body>

</html>